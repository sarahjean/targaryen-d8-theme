# Drupal 8 Theme "Targaryen"
This is a Drupal 8 theme to learn some of the new changes by walking thru sequential build steps. The intent is to follow these instructions to see a step-by-step development D8 theme by example. This theme uses a combination of Susy, SMACSS, Gulp, & common incredients. The theme is not intended to be used as a production-grade theme, only as a quick and concise reference to understand build steps for theming in Drupal 8.

## Installation Steps 
  
* Install Node.js: [here](https://nodejs.org/) 
* Install Bower: [here](http://bower.io/)
* Run NPM install to save module files ```npm install --save-dev```
* Run Bower install to save dependencies ```bower install```
* Install & enable both the [Devel](https://www.drupal.org/project/devel) and [Devel Kint](https://www.drupal.org/project/devel) modules (D8)


- - - - - - - - - - - - - - - - - -  

### [Task #1] Setting up the initial files and structure

The core files are fairly minimal when setting up a new theme. These files are considered as the initial configurable pieces.   

```
TARGARYEN THEME
|-- targaryen.info.yml
|-- targaryen.libraries.yml 
|-- targaryen.theme
|-- screenshot.png 
```

**targaryen.info.yml** :: a replacement for the .info file that contains normal key:val configuration information, in addition libraries references (to be defined in *.libraries.yml) and regions [reference](https://www.drupal.org/node/2349827)

**targaryen.libraries.yml** :: the libraries folder to add in both js and css references [reference](https://www.drupal.org/theme-guide/8/assets)
 
**targaryen.theme** :: a replacement for the template.php file to use common preprocess functions. The syntax and methods will be nearly identical for preprocess functions in D7 

**screenshot.png** :: the standard screenshot image file


### [Task #2] Setting up the Sass & CSS

The next task is to setup the Sass files so that they are properly broken out in partials and according to the [SMACSS](https://smacss.com/) methodologies. 

```
TARGARYEN THEME
|-- sass
  	|-- base
	|-- layout
	|-- components
	|-- state
  	|-- _config.scss
  	|-- style.scss
``` 

**base/ partials** :: intended as the baseline styles that you extend upon and will include things like resets, global typography, or common form selectors. 

**layout/ partials** :: structural layout that can apply to both the outer containers like the sidebars or headers, but also on inner structual pieces. 

**components/ partials** :: these module files are the reusable or component parts of our design. 

**state/ partials** :: modules will adjust when in a particular state, in regards to targeting how changes happen on contextual alterations for regions or similiar  

**_config.scss** :: this configuration is housing common mixins, variables, or similiar, normally you would want to break these out in separate partials

**styles.scss** :: the manifest file that imports all the partials or folders with globbing 


### [Task #3] Organizing the JavaScript files

The next task is to setup the JS files according to Drupal standards and so they can be compiled. The compiling of the JS happens on file change with the gulp plugin. You will only need to change code within the js-src folder and task running will handle the rest. 

```
TARGARYEN THEME
|-- js-src
  	|-- theme.js
|-- js
  	|-- all.js
``` 

**js-src/** :: this will contain the original JavaScript before we lint and compile 

**theme.js** :: this files is intended to illustrate the Drupal.behaviors() placeholder for future development 

**js/ + all.js** :: the js/ folder and all.js is the rendered output of all the theme JS once is has been compiled and linted 


### [Task #4] Setting up the image directories

There are two different image directories setup with the intention that the img-src folder would hold the originals and the img/ folder would be generated by the gulp plugin. You will only need to add or changed the images in the image-src folder and gulp will do the work. 

```
TARGARYEN THEME
|-- img-src
|-- img
``` 

**img-src/** :: this will contain the original image files before they are compressed or generated into a sprite

**img/** :: this directory will contain images that are generated from the other image folder with the gulp task running 


### [Task #5] Adding in the Twig files

In Drupal 8 the template framework is now replaced by the Twig rendering framework. I have added just a couple Twig files to provide some initial examples. 

```
TARGARYEN THEME
|-- templates
	|-- html.html.twig
	|-- page.html.twig
	|-- node.html.twig
``` 

**html.html.twig** :: the twig file that is used to generated the outer html containers 

**page.html.twig** :: the twig file for the page variables and markup

**node.html.twig** :: the twig file that displays the node variables and markup

### [Task #6] Task running with Gulp & Bower

After completing the [installation steps](#installation-steps) all the necessary files will be downloaded in the node\_modules/ and bower\_components/ folders to run the automated tasks. To start the automated process, just run ```gulp watch``` from the theme folder while developing. If you look at the **gulpfile.js** you can view how the automation is setup for the sass compiling, js/css linting, image compression, and other miscellanous tasks.   


### [Task #7] Add custom JS library file to theme 

We will now add the [Flexslider](http://www.woothemes.com/flexslider/) plugin into our theme. After downloading the JS file, just add to the js-src/plugin folder and Gulp will copy it over to the js/ folder. We are skipping linting on the plugin files since we are relying on the plugin authors for standardization. 

Then add the following code into our targaryen.libraries.yml file to finish integrating into theme library: 

```
js:
	js/plugins/jquery.flexslider-min.js: {}
	dependencies:
		- core/jquery
``` 

### [Task #8] Integrate Google web fonts into theme

Our next task is going to be integrating Google's fonts into our theme using a ```hook_css_alter``` preprocess hook. Since this is an external CSS library that is external, we will want to integrate this file at the proper step in the page load. Open the targaryen.theme file and use ```targaryen_css_alter()``` to insert properly with the other CSS grouping with the following code: 

```
function targaryen_css_alter(&$css) {
  // Add CDN Google fonts.
  $googlefonts = '//fonts.googleapis.com/css?family=Open+Sans:400,700,300|Lobster';
  $css[$googlefonts] = array(
    'data' => $googlefonts,
    'type' => 'external',
    'every_page' => TRUE,
    'media' => 'all',
    'preprocess' => FALSE,
    'group' => CSS_AGGREGATE_THEME,
    'browsers' => array('IE' => TRUE, '!IE' => TRUE),
    'weight' => -2,
  );
}
``` 


### [Task #9] Create preprocess variable to display in Twig file


### [Task #10] Create custom classes in Twig file


### [Task #11] Create dynamic classes for theme


### [Task #12] Setup outer grid using Susy 


### [Task #14] ~ 



- - - - - - - - - - - - - - - - - -  


<!-- ![alt text](http://media2.popsugar-assets.com/files/2014/07/16/768/n/1922283/e2c7361ce77fc14c_drogonktb08g.xxxlarge/i/Oh-your-kids-rambunctious-Daenerys-Targaryen-tries-tame-dragons.gif  "dragon")  -->







